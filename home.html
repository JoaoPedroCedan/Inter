<!DOCTYPE html>
<html lang="pt-br">

<!-- header html - início -->

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bestlane</title>
    <!-- favicon -->
    <link rel="shortcut icon" type="img/favicon2.ico" href="img/favicon2.ico">

    <!-- font awesome cdn link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- css file link -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- script file link -->
    <script src="assets/js/mascara.js" defer></script>
    <script src="assets/js/viacep.js" defer></script>

    <!-- jquery cdn link-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

</head>

<body>

    <!-- cabeçalho sem autenticação - início-->

    <header class="header">

        <div id="menu-btn" class="fas fa-bars"></div>
        <img src="" alt="">
        <a href="index.html" class="logo">Bestlane</a>

        <nav class="navbar">
            <a href="entregas.html">Entregas</a>
            <a href="clientes.html">Clientes</a>
            <a href="operadores.html">Operadores</a>
            <a href="entregadores.html">Entregadores</a>
        </nav>

        <div class="icons">
            <div class="fas fa-sign-in-alt" id="login-btn"></div>
        </div>

    </header>

    <section>

    </section>


    <section>
        <h2 class="dp">Dashboard pedidos</h2>

    </section>
    <section class="home">

        <section class="dashboard1">
            <div>
                <h1 class="pd1">Total de pedidos</h2>
            </div>

            <div id="pedidos">
                <script>
                    $(document).ready(() => {
                        const exibir = () => {
                            $.ajax({
                                url: 'http://localhost/Inter/api/listagem/listarEntregas/?quantidade'
                            }).done((data) => {
                                console.log(data[0]['saiu_para_entrega'])
                                let iteracao = 0;
                                for (const i in data) {
                                    iteracao += 1;

                                };
                                let y = `<h1 class="pd2">${data[0]["todos"]}</h1>`
                                $('#pedidos').append(y)
                            });
                        }
                        exibir();
                    })
                </script>
            </div>
        </section>

        <section class="dashboard1">
            <div>
                <h1 class="pd1">Pedidos pendentes</h2>
            </div>

            <div id="pedidos_pendentes">
                <script>
                    $(document).ready(() => {
                        const exibir = () => {
                            $.ajax({
                                url: 'http://localhost/Inter/api/listagem/listarEntregas/?quantidade'
                            }).done((data) => {
                                console.log(data[0]['entregues'])
                                let iteracao = 0;
                                for (const i in data) {
                                    iteracao += 1;

                                };
                                let y = `<h1 class="pd2">${data[0]["saiu_para_entrega"]}</h1>`
                                $('#pedidos_pendentes').append(y)
                            });
                        }
                        exibir();
                    })
                </script>
            </div>
        </section>

        <section class="dashboard1">
            <div>
                <h1 class="pd1">Pedidos Entregues</h2>
            </div>

            <div id="pedidos_entregues">
                <script>
                    $(document).ready(() => {
                        const exibir = () => {
                            $.ajax({
                                url: 'http://localhost/Inter/api/listagem/listarEntregas/?quantidade'
                            }).done((data) => {
                                console.log(data[0]['entregues'])
                                let iteracao = 0;
                                for (const i in data) {
                                    iteracao += 1;

                                };
                                let y = `<h1 class="pd2">${data[0]["entregues"]}</h1>`
                                $('#pedidos_entregues').append(y)
                            });
                        }
                        exibir();
                    })
                </script>
            </div>
        </section>

    </section>
    <script>

    </script>
</body>

</html>

<!-- script responsável pela animação do navbar quando a tela diminui - início-->

<script>
    let navbar = document.querySelector('.header .navbar');

    document.querySelector('#menu-btn').onclick = () => {
        navbar.classList.toggle('active');
    }

    window.onscroll = () => {
        navbar.classList.remove('active');
    }
</script>